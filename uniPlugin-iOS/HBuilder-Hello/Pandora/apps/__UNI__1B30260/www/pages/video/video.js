!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=26)}([function(e,t){e.exports={}},function(e,t,n){"use strict";function i(e,t,n,i,o,r,a,s,l,u){var c,d="function"==typeof e?e.options:e;if(l){d.components||(d.components={});var f=Object.prototype.hasOwnProperty;for(var p in l)f.call(l,p)&&!f.call(d.components,p)&&(d.components[p]=l[p])}if(u&&((u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(d.mixins||(d.mixins=[])).push(u)),t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0),i&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(d.functional){d._injectStyles=c;var h=d.render;d.render=function(e,t){return c.call(t),h(e,t)}}else{var g=d.beforeCreate;d.beforeCreate=g?[].concat(g,c):[c]}return{exports:e,options:d}}n.d(t,"a",(function(){return i}))},function(e,t,n){Vue.prototype.__$appStyle__={},Vue.prototype.__merge_style&&Vue.prototype.__merge_style(n(3).default,Vue.prototype.__$appStyle__)},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return weex.requireModule(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appId=void 0;t.appId="d1461517ccd00abf"},,function(e,t,n){"use strict";var i=n(19),o=n(12),r=n(1);var a=Object(r.a)(o.default,i.b,i.c,!1,null,null,"f8beebb4",!1,i.a,void 0);(function(e){this.options.style||(this.options.style={}),Vue.prototype.__merge_style&&Vue.prototype.__$appStyle__&&Vue.prototype.__merge_style(Vue.prototype.__$appStyle__,this.options.style),Vue.prototype.__merge_style?Vue.prototype.__merge_style(n(23).default,this.options.style):Object.assign(this.options.style,n(23).default)}).call(a),t.default=a.exports},,,,,function(e,t,n){"use strict";var i=n(13),o=n.n(i);t.default=o.a},function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(5),r=e("mapleRTC"),a=e("modal"),s="",l=!1,u=!1,c=!0,d=!0,f=(l=!1,!1),p=!1,h=!1,g=!0,m=!0,y={data:function(){return{roomId:123,players:[],userName:"maple",windowHeight:0,session:{}}},onLoad:function(e){this.windowHeight=uni.getSystemInfoSync().windowHeight,this.roomId=e.channelId,this.session={channelId:e.channelId,userId:e.userId},r.initialize({appId:o.appId},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})),r.addEventListen({name:"joinChannelSuccessListener"},this.onJoinChannelSuccessListener),r.addEventListen({name:"joinChannelFailedListener"},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})),r.addEventListen({name:"connectionLostListener"},(function(e){a.toast({message:JSON.stringify(e),duration:1.5})})),r.addEventListen({name:"leaveChannelListener"},(function(e){a.toast({message:JSON.stringify(e),duration:1.5})})),r.addEventListen({name:"mediaStopListener"},(function(e){a.toast({message:JSON.stringify(e),duration:1.5})})),r.addEventListen({name:"forceKickOutChannelListener"},(function(e){4200==e.reason&&a.toast({message:"强行被其他用户踢出频道！",duration:1.5}),4201==e.reason&&a.toast({message:"强行被服务器踢出频道！！",duration:1.5})})),r.addEventListen({name:"firstRemoteVideoFrameSizeChangedListener"},(function(e){a.toast({message:JSON.stringify(e),duration:1.5})})),r.addEventListen({name:"audioVolumeIndicationListener"},(function(e){a.toast({message:JSON.stringify(e),duration:1.5})})),r.addEventListen({name:"userJoinedNoticeListener"},this.onUserJoinedNoticeListener),r.addEventListen({name:"userOfflineNoticeListener"},this.onUserOfflineNoticeListener),r.setChannelProfile({profile:"voiceAndVideo"}),r.setVideoConferenceProfile({profile:"mcu"}),r.setMediaProfile({audioProfile:"voiceHighQuality",videoProfile:"360P"})},onReady:function(){this.join()},onNavigationBarButtonTap:function(){uni.navigateBack({delta:1,animationType:"pop-out",animationDuration:200})},onBackPress:function(){r.leaveChannel((function(e){a.toast({message:JSON.stringify(e),duration:1.5})}))},methods:{onJoinChannelSuccessListener:function(e){s=e.uid,uni.showToast({title:JSON.stringify(e),icon:"none"}),this.$refs.minMapleRTCView.setupLocalVideo({enabled:!0},(function(e){uni.showToast({title:e,icon:"none"})})),this.$refs.minMapleRTCView.startPreview((function(e){uni.showToast({title:JSON.stringify(e),icon:"none"}),l=!0})),this.$refs.minMapleRTCView.muteLocalVideoStream({muted:!1},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})}))},onUserJoinedNoticeListener:function(e){a.toast({message:JSON.stringify(e),duration:1.5});for(var t=0;t<e.uids.length;t++)s!=e.uids[t]||(this.$refs.minMapleRTCView.setZOrderOnTop({uid:s,enabled:!1},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})),this.$refs.maxMapleRTCView.setZOrderOnTop({uid:"",enabled:!0},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})),this.$refs.maxMapleRTCView.setupRemoteVideo({enabled:!0,userId:""},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})),this.$refs.maxMapleRTCView.muteRemoteVideoStream({userId:"",muted:!1},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})))},onUserOfflineNoticeListener:function(e){a.toast({message:JSON.stringify(e),duration:1.5});for(var t=0;t<e.uids.length;t++);},menuAction:function(){uni.showActionSheet({itemList:["开关扬声器","开关麦克风","切换听筒和扬声器","开关本地预览","开始停止发送本地视频","切换前后摄像头","开关显示远端视频","开关美颜","设置美颜等级","切换前置摄像头镜像输出","播放媒体文件","暂停媒体","停止媒体","静音媒体","调节媒体音量","设置媒体播放位置","获取总时长","获取当前播放位置"],success:function(e){var t,n=e.tapIndex;0==n?(t=(c=!c)?100:0,r.adjustPlaybackSignalVolume({volume:t},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})}))):1==n?(u=!u,r.muteLocalAudioStream({muted:u},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})}))):2==n?(d=!d,r.setEnableSpeakerphone({enabled:d},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})}))):3==n?(l=!l)?r.startPreview((function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})):r.stopPreview((function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})):4==n?(r.muteLocalVideoStream({muted:f},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})),f=!f):5==n?r.switchCamera():6==n||(7==n?(p=!p,r.enableBeautify({enabled:p},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})}))):8==n?r.setBeautifyLevel({level:.8},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})):9==n?(h=!h,r.enableFrontOutputMirror({enabled:h},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})}))):10==n?r.startPlayMedia({path:"http://share.lmaple.com/test.mp3",type:3,cycle:1},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"}),g=!1,m=!1})):11==n?(g=!g,r.pausePlayMedia({paused:g},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})}))):12==n?r.stopPlayMedia((function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})):13==n?(m=!m,r.mutePlayMedia({muted:m},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})}))):14==n?r.adjustPlayMediaVolume({volume:50},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})):15==n?r.setPlayMediaPosition({position:1e4},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})):16==n?r.getPlayMediaTotalDuration((function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})):17==n&&r.getPlayMediaCurrentPosition((function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})))}})},hideKeyboard:function(){i("log","hideKeyboard"," at pages/video/video.nvue:354")},sliderChange:function(e){i("log",e.detail.value," at pages/video/video.nvue:358"),this.beauty=e.detail.value},addPlayer:function(e){this.players.push({userId:e})},removePlayer:function(e){for(var t=0;t<this.players.length;t++){if(this.players[t].userId===e){this.players.splice(t,1);break}}},join:function(){r.joinChannel(this.session,(function(e){a.toast({message:JSON.stringify(e),duration:1.5})}))}},beforeCreate:function(){weex.requireModule("dom").addRule("fontFace",{fontFamily:"iconfont",src:'url("file:/'+plus.io.convertLocalFileSystemURL("_www/static/iconfont.ttf")+'")'})}};t.default=y}).call(this,n(4).default,n(21).default)},function(e,t){e.exports={chatBox:{width:"750rpx",flex:1,flexDirection:"column",backgroundColor:"#111111"},header:{width:"750rpx",position:"fixed",top:0,left:0,marginTop:"20rpx",marginRight:0,marginBottom:"20rpx",marginLeft:0,flexDirection:"row",justifyContent:"space-between"},viewIco:{marginLeft:"20rpx",fontFamily:"iconfont",fontSize:"60rpx",color:"#FFFFFF"},maxMapleRTCView:{width:"750rpx",backgroundColor:"#111111",position:"fixed",top:0,right:0},minMapleRTCView:{width:"1rpx",height:"1rpx",position:"fixed",backgroundColor:"#000000",right:"0rpx",top:"0rpx",borderStyle:"solid",borderWidth:"1",borderColor:"rgba(255,255,255,0.2)"},foot:{width:"710rpx",position:"fixed",bottom:0,left:0,marginTop:"20rpx",marginRight:"20rpx",marginBottom:"20rpx",marginLeft:"20rpx",alignItems:"center",justifyContent:"center",flexDirection:"column"},circleBoxAll:{justifyContent:"center",alignItems:"center"},inputBoxAll:{flexDirection:"row",alignItems:"center"},inputBox:{flexDirection:"row",marginTop:"15rpx",marginRight:"15rpx",marginBottom:"15rpx",marginLeft:"15rpx",paddingTop:"15rpx",paddingRight:"15rpx",paddingBottom:"15rpx",paddingLeft:"15rpx",backgroundColor:"#FFFFFF",borderRadius:"6"},inputTitle:{height:"80rpx",lineHeight:"80rpx"},input:{height:"80rpx",width:"340rpx",fontSize:"30rpx",paddingTop:"15rpx",paddingRight:"15rpx",paddingBottom:"15rpx",paddingLeft:"15rpx"},join:{backgroundColor:"#DD524D",width:"160rpx",height:"120rpx",lineHeight:"120rpx",textAlign:"center",color:"#FFFFFF",borderRadius:"10"},circleBox:{width:"150rpx",paddingTop:"10rpx",paddingRight:0,paddingBottom:"10rpx",paddingLeft:0,marginTop:"10rpx",marginRight:"10rpx",marginBottom:"10rpx",marginLeft:"10rpx",alignItems:"center",flexDirection:"column",textAlign:"center"},circleIco:{fontSize:"36rpx",width:"64rpx",height:"64rpx",lineHeight:"64rpx",borderRadius:"500",borderStyle:"solid",borderWidth:"1",borderColor:"#FFFFFF",textAlign:"center",fontFamily:"iconfont",color:"#FFFFFF"},phone:{backgroundColor:"#c5433a",borderStyle:"solid",borderWidth:"1",borderColor:"#c5433a"},hint:{fontSize:"22rpx",color:"#FFFFFF",paddingTop:"20rpx"},tools:{position:"fixed",right:0,bottom:"100rpx",zIndex:11,width:"150rpx"},showSlider:{position:"fixed",right:"180rpx",bottom:"100rpx",zIndex:12,width:"200rpx"},"foot-content":{flexDirection:"column-reverse",position:"fixed",bottom:0,left:0,right:0,height:"500rpx",overflow:"hidden",paddingTop:"20rpx",paddingRight:"40rpx",paddingBottom:"20rpx",paddingLeft:"40rpx"}}},,,,,function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("scroll-view",{staticStyle:{flexDirection:"column"},attrs:{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true"}},[n("view",{staticClass:["chatBox"]},[n("u-text",{staticClass:["page-title"]},[e._v("多人视频聊天房间号: "+e._s(e.roomId))]),n("LM-mapleRTCView",{ref:"maxMapleRTCView",staticClass:["maxMapleRTCView"],style:{height:e.windowHeight}}),n("view",{staticClass:["header"]},[n("LM-mapleRTCView",{ref:"minMapleRTCView",staticClass:["minMapleRTCView"],style:e.minStyle})],1),n("view",{staticClass:["foot-content"]},[n("chat-room",{ref:"chatRoom",staticClass:["chat-room"],attrs:{id:"chatRoom",roomId:e.roomId}})],1),n("view",{staticClass:["tools"]},[n("view",{staticClass:["circleBoxAll"]},[n("view",{staticClass:["circleBox"],on:{click:function(t){e.menuAction()}}},[n("u-text",{staticClass:["circleIco","phone"]},[e._v("")]),n("u-text",{staticClass:["hint"]},[e._v("菜单操作")])])])])],1)])},o=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}))},,function(e,t,n){"use strict";function i(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)}function o(){return"string"==typeof __channelId__&&__channelId__}Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console[e].apply(console,n)},t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift();if(o())return t.push(t.pop().replace("at ","uni-app:///")),console[r].apply(console,t);var a=t.map((function(e){var t=Object.prototype.toString.call(e).toLowerCase();if("[object object]"===t||"[object array]"===t)try{e="---BEGIN:JSON---"+JSON.stringify(e)+"---END:JSON---"}catch(t){e="[object object]"}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{var n=i(e).toUpperCase();e="NUMBER"===n||"BOOLEAN"===n?"---BEGIN:"+n+"---"+e+"---END:"+n+"---":String(e)}return e})),s="";if(a.length>1){var l=a.pop();s=a.join("---COMMA---"),0===l.indexOf(" at ")?s+=l:s+="---COMMA---"+l}else s=a[0];console[r](s)}},,function(e,t,n){"use strict";n.r(t);var i=n(14),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=o.a},,,function(e,t,n){"use strict";n.r(t);n(2);var i=n(7);i.default.mpType="page",i.default.route="pages/video/video",i.default.el="#root",new Vue(i.default)}]);