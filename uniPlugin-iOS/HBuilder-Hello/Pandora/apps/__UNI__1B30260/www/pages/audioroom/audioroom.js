!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=25)}([function(e,t){e.exports={}},function(e,t,n){"use strict";function i(e,t,n,i,o,r,s,a,u,c){var l,d="function"==typeof e?e.options:e;if(u){d.components||(d.components={});var f=Object.prototype.hasOwnProperty;for(var p in u)f.call(u,p)&&!f.call(d.components,p)&&(d.components[p]=u[p])}if(c&&((c.beforeCreate||(c.beforeCreate=[])).unshift((function(){this[c.__module]=this})),(d.mixins||(d.mixins=[])).push(c)),t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0),i&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(d.functional){d._injectStyles=l;var h=d.render;d.render=function(e,t){return l.call(t),h(e,t)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,l):[l]}return{exports:e,options:d}}n.d(t,"a",(function(){return i}))},function(e,t,n){Vue.prototype.__$appStyle__={},Vue.prototype.__merge_style&&Vue.prototype.__merge_style(n(3).default,Vue.prototype.__$appStyle__)},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return weex.requireModule(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appId=void 0;t.appId="d1461517ccd00abf"},function(e,t,n){"use strict";var i=n(18),o=n(9),r=n(1);var s=Object(r.a)(o.default,i.b,i.c,!1,null,null,"02a37fba",!1,i.a,void 0);(function(e){this.options.style||(this.options.style={}),Vue.prototype.__merge_style&&Vue.prototype.__$appStyle__&&Vue.prototype.__merge_style(Vue.prototype.__$appStyle__,this.options.style),Vue.prototype.__merge_style?Vue.prototype.__merge_style(n(22).default,this.options.style):Object.assign(this.options.style,n(22).default)}).call(s),t.default=s.exports},,,function(e,t,n){"use strict";var i=n(10),o=n.n(i);t.default=o.a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=e("LM-mapleRTC"),r=e("modal"),s="",a={data:function(){return{windowHeight:0,roomId:123,players:[],session:{},appId:i.appId}},onLoad:function(e){this.windowHeight=uni.getSystemInfoSync().windowHeight,this.roomId=e.channelId,this.session={channelId:e.channelId,userId:e.userId},o.initialize({appId:i.appId},(function(e){uni.showToast({title:e,icon:"none"})})),o.addEventListen({name:"joinChannelSuccessListener"},(function(e){s=e.uid,uni.showToast({title:JSON.stringify(e),icon:"none"})})),o.addEventListen({name:"joinChannelFailedListener"},(function(e){uni.showToast({title:JSON.stringify(e),icon:"none"})})),o.addEventListen({name:"connectionLostListener"},(function(e){r.toast({message:JSON.stringify(e),duration:1.5})})),o.addEventListen({name:"leaveChannelListener"},(function(e){r.toast({message:JSON.stringify(e),duration:1.5})})),o.addEventListen({name:"mediaStopListener"},(function(e){r.toast({message:JSON.stringify(e),duration:1.5})})),o.addEventListen({name:"forceKickOutChannelListener"},(function(e){4200==e.reason&&r.toast({message:"强行被其他用户踢出频道！",duration:1.5}),4201==e.reason&&r.toast({message:"强行被服务器踢出频道！！",duration:1.5})})),o.addEventListen({name:"firstRemoteVideoFrameSizeChangedListener"},(function(e){r.toast({message:JSON.stringify(e),duration:1.5})})),o.addEventListen({name:"audioVolumeIndicationListener"},(function(e){r.toast({message:JSON.stringify(e),duration:1.5})})),o.addEventListen({name:"userJoinedNoticeListener"},this.onUserJoinedNoticeListener),o.addEventListen({name:"userOfflineNoticeListener"},this.onUserOfflineNoticeListener),o.setChannelProfile({profile:"voiceOnly"}),o.setMediaProfile({audioProfile:"voiceHighQuality",videoProfile:"360P"})},onReady:function(){this.join()},onResize:function(){this.resizeWinHeight()},onNavigationBarButtonTap:function(){uni.navigateBack({delta:1,animationType:"pop-out",animationDuration:200})},onBackPress:function(){o.leaveChannel((function(e){r.toast({message:e,duration:1.5})}))},methods:{join:function(){o.joinChannel(this.session,(function(e){r.toast({message:e,duration:1.5})}))},onUserJoinedNoticeListener:function(e){r.toast({message:JSON.stringify(e),duration:1.5});for(var t=0;t<e.uids.length;t++)s!=e.uids[t]&&this.addPlayer(e.uids[t])},onUserOfflineNoticeListener:function(e){r.toast({message:JSON.stringify(e),duration:1.5});for(var t=0;t<e.uids.length;t++)this.removePlayer(e.uids[t])},addPlayer:function(e){this.players.push({userId:e})},removePlayer:function(e){for(var t=0;t<this.players.length;t++){if(this.players[t].userId===e){this.players.splice(t,1);break}}},resizeWinHeight:function(){var e=this;uni.getSystemInfo({success:function(t){e.windowHeight=t.windowHeight}})}}};t.default=a}).call(this,n(4).default)},function(e,t){e.exports={page:{height:100,backgroundColor:"#271506"},"page-title":{width:"750rpx",height:"80rpx",lineHeight:"80rpx",color:"#ffffff",fontSize:"28rpx",textAlign:"center"},voiceroom:{flexDirection:"row",flexWrap:"wrap",width:"750rpx"},"voiceroom-cel":{width:"375rpx",height:"558.25rpx",paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx"},"voiceroom-maplertc":{width:"335rpx",height:"478.25rpx",backgroundColor:"#444444"},"voiceroom-cel-name":{width:"335rpx",height:"40rpx",lineHeight:"40rpx",textAlign:"center",color:"#999999",fontSize:"24rpx"}}},,,,,,,function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("scroll-view",{staticClass:["page"],style:[e.windowHeight?{height:e.windowHeight+"px"}:""],attrs:{scrollY:"true"}},[n("u-text",{staticClass:["page-title"]},[e._v("多人语音房间号: "+e._s(e.roomId))]),n("view",{staticClass:["voiceroom"]},[n("view",{staticClass:["voiceroom-cel","voiceroom-pusher"]},[n("LM-mapleRTCView",{ref:"maxMapleRTCView",staticClass:["voiceroom-maplertc"]}),n("u-text",{staticClass:["voiceroom-cel-name"]},[e._v("我")])],1),e._l(e.players,(function(t,i){return n("view",{key:i,staticClass:["voiceroom-cel","voiceroom-player"]},[n("LM-mapleRTCView",{ref:"remoteUser",refInFor:!0,staticClass:["voiceroom-maplertc"]},[n("u-text",[e._v(e._s(t.userId))])]),n("u-text",{staticClass:["voiceroom-cel-name"]},[e._v(e._s(t.userId))])],1)}))],2)])},o=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}))},,,,function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=o.a},,,function(e,t,n){"use strict";n.r(t);n(2);var i=n(6);i.default.mpType="page",i.default.route="pages/audioroom/audioroom",i.default.el="#root",new Vue(i.default)}]);